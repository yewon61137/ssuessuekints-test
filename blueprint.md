# Blueprint: 뜨개질 도안 생성기 (Knitting Pattern Generator)

## 1. 개요 (Overview)
사용자가 이미지를 업로드하면, 입력한 코/단 수(원하는 픽셀 수)와 색상 수에 맞춰 이미지를 픽셀화하여 뜨개질 도안으로 변환해주는 웹 애플리케이션입니다.

## 2. 주요 기능 (Features)
*   **이미지 업로드**: JPG, PNG 지원.
*   **직관적인 설정 (게이지 계산 제거)**:
    *   **원하는 가로 코 수 (Stitches)**: 사용자가 만들고자 하는 편물의 총 가로 칸(픽셀) 수를 직접 입력합니다. (세로 단 수는 원본 이미지 비율에 맞춰 자동 계산)
    *   **사용할 최대 색상 수**: 2~30색 사이에서 원하는 만큼 설정.
*   **도안 자동 생성 (Canvas API 활용)**:
    *   입력된 코 수에 맞춰 이미지를 픽셀 단위로 축소 및 변환 (Pixel Art 스타일).
    *   원본과 가장 유사한 색상을 추출하여 제한된 팔레트 생성 (K-means 등 색상 양자화 알고리즘 적용).
*   **시각적 편의성**:
    *   10코, 10단마다 굵은 선으로 그리드(Grid) 표시.
    *   사용된 색상 팔레트를 번호와 함께 화면 측면에 나열.
*   **PDF 저장**: 생성된 도안 이미지와 색상표를 PDF 파일로 다운로드 (jsPDF 라이브러리 사용).

## 3. 개발 계획 (Action Plan)
1.  **UI/UX 디자인 및 퍼블리싱 (HTML/CSS)**:
    *   기존 채팅 UI 제거 후, 좌측(설정 폼) / 우측(도안 미리보기) 레이아웃 구성.
2.  **코어 로직 구현 (JavaScript)**:
    *   파일 업로드 및 캔버스 초기 렌더링.
    *   가로 코 수 입력 시 비율에 맞춘 세로 단 수 계산 및 이미지 픽셀화.
3.  **색상 처리 로직**:
    *   이미지 데이터에서 주요 색상 추출 및 제한된 팔레트로 매핑(Quantization).
4.  **도안 및 그리드 렌더링**:
    *   픽셀화된 이미지를 확대하여 캔버스에 선명하게 그리기.
    *   10x10 그리드 라인 겹쳐 그리기.
    *   색상표 UI(Legend) 생성.
5.  **PDF 출력 기능 연동**:
    *   `jsPDF` 라이브러리를 통해 결과물 저장.